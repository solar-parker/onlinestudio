<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Centered Vimeo Autoplay</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #000;
    }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #fff;
    }

    .stage {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
    }

    .video-wrapper {
      width: min(1200px, 100%);
      aspect-ratio: 16/9;
      background: #000;
      overflow: hidden;
      position: relative;
    }

    .video-wrapper iframe {
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
    }

    /* Unmute button styling */
    .unmute-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: 1px solid white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      backdrop-filter: blur(6px);
      transition: background 0.3s;
      z-index: 20;
    }

    .unmute-btn:hover {
      background: rgba(255, 255, 255, 0.35);
    }

    @media (max-width: 768px) {
      .video-wrapper {
        position: fixed;
        inset: 0;
        width: 100vw;
        height: 100vh;
        aspect-ratio: auto;
      }
      html, body { height: 100%; overflow: hidden; }
    }
  </style>
</head>
<body>
  <div class="stage">
    <div class="video-wrapper">
      <button class="unmute-btn" id="unmuteBtn">Unmute</button>
      <iframe
        id="vimeoPlayer"
        title="vimeo-player"
        src="https://player.vimeo.com/video/1011810655?h=af32039b8d&autoplay=1&muted=1&playsinline=1"
        allow="autoplay; fullscreen; picture-in-picture; encrypted-media; gyroscope; accelerometer"
        allowfullscreen
      ></iframe>
    </div>
  </div>

  <script src="https://player.vimeo.com/api/player.js"></script>
  <script>
    (function() {
      const iframe = document.getElementById('vimeoPlayer');
      const unmuteBtn = document.getElementById('unmuteBtn');
      if (!iframe) return;

      const player = new Vimeo.Player(iframe);
      player.setVolume(0).catch(() => {});
      player.play().catch((err) => {
        console.warn('Autoplay prevented or failed:', err.name || err);
      });

      // Unmute when user clicks the button
      unmuteBtn.addEventListener('click', async () => {
        try {
          await player.setVolume(1);
          unmuteBtn.style.display = 'none'; // Hide button after unmuting
        } catch (err) {
          console.error('Could not unmute:', err);
        }
      });
    })();
  </script>
</body>
</html>
